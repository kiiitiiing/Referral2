@model ChangePasswordViewModel

<div class="modal fade" id="change-password-modal" tabindex="-1" role="dialog" aria-labelledby="addContactLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <fieldset>
                    <legend>
                        &nbsp;CHANGE PASSWORD
                    </legend>
                </fieldset>
            </div>
            <form id="changPasswordForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label>Current Password:</label>
                        <input asp-for="CurrentPassword" class="form-control" required />
                        <span asp-validation-for="CurrentPassword" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label>New Password:</label>
                        <input asp-for="NewPassword" class="form-control" required />
                        <span asp-validation-for="NewPassword" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label>Confirm Password:</label>
                        <input asp-for="ConfirmPassword" class="form-control" required />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                    @if ((string)ViewData["Status"] == "success")
                    {
                        <div class="bg-gradient-success">
                            <span>
                                Change Password Success
                            </span>
                        </div>
                    }
                    else if((string)ViewData["Status"] == "failed")
                    {
                        <div class="bg-gradient-warning">
                            <span>
                                Change Password Failed
                            </span>
                        </div>
                    }
                </div>
                <div class="modal-footer justify-content-end">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        <i class="fa fa-times"></i>
                        &nbsp;Close
                    </button>
                    <button id="btnSubmit" class="btn btn-success" data-save data-url="@Url.Action("ChangePassword","Users")">
                        <i class="fa fa-pencil"></i>
                        &nbsp;Change
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#btnSubmit').click(function () {
            var myFormData = $('#changPasswordForm').serialize();
            var url = $(this).data('url');
            console.log(url);
            $.ajax({
                type: 'POST',
                url: url,
                data: myFormData,
                success: function () {  
                    console.log("Helo");
                    $("#change-password-modal").modal({"backdrop": "static"});
                },  
                error: function () {
                    console.log("hi");
                }
            })
        });
    });
</script>